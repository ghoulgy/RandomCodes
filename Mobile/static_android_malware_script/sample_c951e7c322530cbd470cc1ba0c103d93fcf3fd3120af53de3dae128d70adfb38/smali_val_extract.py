import re

f = open("smali.txt", "rb")
contexts = f.readlines()
f.close()

i = 1
is_hex = False
# hex_byte = None

alpha = ['c', 'd', 'b']

for line, context in enumerate(contexts):
    if line > 99:
        if len(context) > 0:    
            found = re.search(b"const v\d{1,2}, (0x\w+)", context)

            if found and not is_hex:
                print(f"int {alpha[i % len(alpha)]} = ({found.group(1).decode()})", end=" ^ ")
                is_hex = True
            
            if is_hex:
                # print(context)
                # input()
                found_2 = re.search(b'const-string v\d{1,2}, "(\\\\u\w{4}\\\\u\w{4}\\\\u\w{4})"', context) 

                if found_2:
                    is_hex = False
                    print(f"m282((Object) \"{found_2.group(1).decode()}\");")
                    if i != 0 and i % 3 == 0:
                        print()
                    
                    i += 1


